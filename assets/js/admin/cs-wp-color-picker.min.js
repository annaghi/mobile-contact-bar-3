/*!
 * Codestar WP Color Picker v1.1.0 - This is plugin for WordPress Color Picker Alpha Channel
 * Copyright 2015 Codestar <info@codestarthemes.com> - GNU GENERAL PUBLIC LICENSE (http://www.gnu.org/licenses/gpl-2.0.txt)
 */
!function($,document){"use strict";"undefined"!=typeof Color.fn.toString&&(Color.fn.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var hex=parseInt(this._color,10).toString(16);if(this.error)return"";if(hex.length<6)for(var i=6-hex.length-1;0<=i;i--)hex="0"+hex;return"#"+hex}),$.cs_ParseColorValue=function(val){var value=val.replace(/\s+/g,""),alpha=-1!==value.indexOf("rgba")?parseFloat(100*value.replace(/^.*,(.+)\)/,"$1")):100;return{value:value,alpha:alpha,rgba:alpha<100}},$.fn.cs_wpColorPicker=function(){return this.each(function(){var $this=$(this);if(!1!==$this.data("rgba")){var picker=$.cs_ParseColorValue($this.val());$this.wpColorPicker({clear:function(){$this.trigger("keyup")},change:function(event,ui){var uiColorValue=ui.color.toString();$this.closest(".wp-picker-container").find(".cs-alpha-slider-offset").css("background-color",uiColorValue),$this.val(uiColorValue).trigger("change")},create:function(){var a8cIris=$this.data("a8cIris"),$container=$this.closest(".wp-picker-container"),$alphaWrap=$('<div class="cs-alpha-wrap"><div class="cs-alpha-slider"></div><div class="cs-alpha-slider-offset"></div><div class="cs-alpha-text"></div></div>').appendTo($container.find(".wp-picker-holder")),$alphaSlider=$alphaWrap.find(".cs-alpha-slider"),$alphaText=$alphaWrap.find(".cs-alpha-text"),$alphaOffset=$alphaWrap.find(".cs-alpha-slider-offset");$alphaSlider.slider({slide:function(event,ui){var slideValue=parseFloat(ui.value/100);a8cIris._color._alpha=slideValue,$this.wpColorPicker("color",a8cIris._color.toString()),$alphaText.text(slideValue<1?slideValue:"")},create:function(){var slideValue=parseFloat(picker.alpha/100),alphaTextValue=slideValue<1?slideValue:"";$alphaText.text(alphaTextValue),$alphaOffset.css("background-color",picker.value),$container.on("click",".wp-picker-clear",function(){a8cIris._color._alpha=1,$alphaText.text(""),$alphaSlider.slider("option","value",100).trigger("slide")}),$container.on("click",".wp-picker-default",function(){var defaultPicker=$.cs_ParseColorValue($this.data("default-color")),defaultValue=parseFloat(defaultPicker.alpha/100),defaultText=defaultValue<1?defaultValue:"";a8cIris._color._alpha=defaultValue,$alphaText.text(defaultText),$alphaSlider.slider("option","value",defaultPicker.alpha).trigger("slide")}),$container.on("click",".wp-color-result",function(){$alphaWrap.toggle()}),$("body").on("click.wpcolorpicker",function(){$alphaWrap.hide()})},value:picker.alpha,step:1,min:1,max:100})}})}else $this.wpColorPicker({clear:function(){$this.trigger("keyup")},change:function(event,ui){$this.val(ui.color.toString()).trigger("change")}})})},$(document).ready(function(){$(".cs-wp-color-picker").cs_wpColorPicker()})}(jQuery,document);